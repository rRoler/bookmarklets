javascript:(() => {function t(t){const a=localStorage.getItem(t);if(a)return JSON.parse(a)}const a=function(t,a,e=0){const n=t.match(a);if(n&&n[e])return n[e]}(window.location.pathname,/\/title\/(?:edit\/)?([-0-9a-f]{20,})/,1),e=/draft=true/.test(window.location.search),n=(t,a)=>function(t,a="/",e={}){const n=new URL(t);n.pathname=a;for(const t in e){const a=e[t];if(Array.isArray(a))for(const e of a)n.searchParams.append(t,e);else n.searchParams.set(t,a.toString())}return n}("https://api.mangadex.org",t,a);function o(o=a,s=e){const r=t("oidc.user:https://auth.mangadex.org/realms/mangadex:mangadex-frontend-stable")||t("oidc.user:https://auth.mangadex.org/realms/mangadex:mangadex-frontend-canary");return new Promise(((t,a)=>fetch(n(`/manga${s?"/draft/":"/"}${o}`),{headers:{Authorization:s?`${r.token_type} ${r.access_token}`:""}}).then((a=>t(a.json()))).catch(a)))}((t,e={})=>{(function(t,a){if(!new RegExp(t).test(window.location.hostname))return alert("Bookmarklet executed on the wrong website!");a()})("^mangadex.org|canary.mangadex.dev",(()=>{const n=e.createPage&&/\/create\//.test(window.location.pathname),o="You can execute this bookmarklet only on ";return!e.titlePage||a||n?!e.editPage||/\/edit\//.test(window.location.pathname)||n?void t():alert(o+"an edit page!"):alert(o+"a title page!")}))})((()=>{o().then((t=>{const a={al:"https://anilist.co/manga/",ap:"https://www.anime-planet.com/manga/",kt:"https://kitsu.io/manga/",mu:/[A-Za-z]/.test(t.data.attributes.links.mu)?"https://www.mangaupdates.com/series/":"https://www.mangaupdates.com/series.html?id=",mal:"https://myanimelist.net/manga/",nu:"https://www.novelupdates.com/series/",bw:"https://bookwalker.jp/",amz:"",ebj:"",cdj:""};for(const e in t.data.attributes.links){const n=(a[e]||"")+t.data.attributes.links[e];window.open(n,"_blank","noopener,noreferrer")}}))}),{titlePage:!0});})();
