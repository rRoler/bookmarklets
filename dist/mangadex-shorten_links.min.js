javascript:(() => {function t(t,e,a=0){const n=t.match(e);if(n&&n[a])return n[a]}const e=t(window.location.pathname,/\/title\/+([-0-9a-f]{20,})/,1)||t(window.location.pathname,/\/title\/edit\/+([-0-9a-f]{20,})/,1);((t,a={})=>{(function(t,e){if(!new RegExp(t).test(window.location.hostname))return alert("Bookmarklet executed on a wrong website!");e()})("^mangadex.org|canary.mangadex.dev",(()=>{const n=a.createPage&&/\/create\//.test(window.location.pathname);return!a.titlePage||e||n?!a.editPage||/\/edit\//.test(window.location.pathname)||n?void t():alert("This is not an edit page!"):alert("This is not a title page!")}))})((()=>{const e=[],a=t=>{var a;return null===(a=document.querySelectorAll("div.input-container")[t])||void 0===a?void 0:a.querySelectorAll("input.inline-input").forEach((t=>{e.push(t)}))};a(3),a(4),a(5);const n={};if(e.forEach((e=>{const a=e.value;let o=a;const i="[0-9]+",c="[A-Za-z0-9-%]+",l="[A-Z0-9]{10}",r=[`(anilist.co/manga/)(${i})`,`(www.anime-planet.com/manga/)(${c})`,`(kitsu.io/manga/)(${c})`,`(www.mangaupdates.com/series/)(${c})`,`(myanimelist.net/manga/)(${i})`,`(bookwalker.jp/series/)(${i}(?:/list)?)`,`(bookwalker.jp/)(${c})`,`(www.amazon[a-z.]+/).*((?:dp/|gp/product/|kindle-dbs/product/)${l})`,`(www.amazon[a-z.]+/gp/product).*(/${l})`,`(ebookjapan.yahoo.co.jp/books/)(${i})`,`(www.cdjapan.co.jp/product/)(NEOBK-${i})`,"(.*/)(.*)/$"];for(const e of r){const n=new RegExp(`(?:https?://${e}.*)$`),i=t(a,n,1),c=t(a,n,2);if(i&&c){o=`https://${i}${c}`;break}}o!==a&&(e.value=o,e.dispatchEvent(new InputEvent("input")),n[a]=o)})),Object.keys(n).length<=0)return alert("No links changed!");console.log("Changed links:",n)}),{titlePage:!0,editPage:!0,createPage:!0});})();
