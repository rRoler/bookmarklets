javascript:void%20function(){function%20e(e,t,n=0){const%20o=e.match(t);if(o%26%26o[n])return%20o[n]}function%20t(e){const%20t=localStorage.getItem(e);if(t)return%20JSON.parse(t)}const%20n=e(window.location.pathname,/\/title\/+([-0-9a-f]{20,})/,1)||e(window.location.pathname,/\/title\/edit\/+([-0-9a-f]{20,})/,1);t(%22oidc.user:https://auth.mangadex.org/realms/mangadex:mangadex-frontend-stable%22)||t(%22oidc.user:https://auth.mangadex.org/realms/mangadex:mangadex-frontend-canary%22),((e,t={})=%3E{(function(e,t){if(!new%20RegExp(e).test(window.location.hostname))return%20alert(%22Bookmarklet%20executed%20on%20a%20wrong%20website!%22);t()})(%22mangadex.org|canary.mangadex.dev%22,(()=%3Et.titlePage%26%26!n%3Falert(%22This%20is%20not%20a%20title%20page!%22):t.editPage%26%26!/\/edit\//.test(window.location.pathname)%3Falert(%22This%20is%20not%20an%20edit%20page!%22):void%20e()))})((async()=%3E{const%20e=prompt(%22Enter%20a%20description:%22,%22BookWalker%22);if(!e)return;const%20t=[],n=Array.from(document.querySelectorAll(%22div.page-sizer%22));for(const%20r%20in%20n){const%20a=n[r];if(/blob:https%3F:\/\/.*mangadex.*\/+[-0-9a-f]{20,}/.test(a.querySelector(%22.page%22).style.getPropertyValue(%22background-image%22))){var%20o;const%20n=null===(o=a.parentElement)||void%200===o%3Fvoid%200:o.querySelector(%22.volume-edit%22);null==n||n.dispatchEvent(new%20MouseEvent(%22click%22));const%20r=await%20new%20Promise((t=%3E{const%20n='textarea[placeholder=%22Cover%20Description%22]';(function(e){let%20t=document.body.querySelector(e);return%20new%20Promise((n=%3E{if(t)return%20n(t);const%20o=new%20MutationObserver((()=%3E{t=document.body.querySelector(e),t%26%26(n(t),o.disconnect())}));o.observe(document.body,{childList:!0,subtree:!0})}))})(n).then((o=%3E{var%20r,a,i,l;let%20c=!0;const%20d=null===(r=o.parentElement)||void%200===r||null===(a=r.parentElement)||void%200===a||null===(i=a.parentElement)||void%200===i||null===(l=i.parentElement)||void%200===l%3Fvoid%200:l.querySelector(%22button.primary%22);o.value%3Fc=!1:o.value=e,o.dispatchEvent(new%20InputEvent(%22input%22)),null==d||d.dispatchEvent(new%20MouseEvent(%22click%22)),function(e){let%20t=document.body.querySelector(e);return%20new%20Promise((n=%3E{if(!t)return%20n();const%20o=new%20MutationObserver((()=%3E{t=document.body.querySelector(e),t||(n(),o.disconnect())}));o.observe(document.body,{childList:!0,subtree:!0})}))}(n).then((()=%3Et(c)))}))}));r%26%26t.push(a)}}if(t.length%3C=0)return%20alert(%22No%20newly%20added%20covers%20with%20empty%20descriptions%20found!%22);console.log(%22Changed%20descriptions:%22,t)}),{titlePage:!0,editPage:!0});}();
