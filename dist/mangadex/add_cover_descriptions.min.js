javascript:(function(){function%20e(e,t,n=0){const%20o=e.match(t);if(o%26%26o[n])return%20o[n]}function%20t(e){const%20t=localStorage.getItem(e);if(t)return%20JSON.parse(t)}const%20n=e(window.location.pathname,/\/title\/+([-0-9a-f]{20,})/,1)||e(window.location.pathname,/\/title\/edit\/+([-0-9a-f]{20,})/,1);t(%22oidc.user:https://auth.mangadex.org/realms/mangadex:mangadex-frontend-stable%22)||t(%22oidc.user:https://auth.mangadex.org/realms/mangadex:mangadex-frontend-canary%22),((e,t={})=%3E{(function(e,t){if(!new%20RegExp(e).test(window.location.hostname))return%20alert(%22Bookmarklet%20executed%20on%20a%20wrong%20website!%22);t()})(%22mangadex.org|canary.mangadex.dev%22,(()=%3E{const%20o=t.createPage%26%26/\/create\//.test(window.location.pathname);return!t.titlePage||n||o%3F!t.editPage||/\/edit\//.test(window.location.pathname)||o%3Fvoid%20e():alert(%22This%20is%20not%20an%20edit%20page!%22):alert(%22This%20is%20not%20a%20title%20page!%22)}))})((async()=%3E{const%20e=prompt(%22Enter%20a%20description:%22,%22Volume%20$volume%20Cover%20from%20BookWalker%22);if(!e)return;const%20t=[],n=Array.from(document.querySelectorAll(%22div.page-sizer%22));for(const%20l%20of%20n)if(/blob:https%3F:\/\/.*mangadex.*\/+[-0-9a-f]{20,}/.test(l.querySelector(%22.page%22).style.getPropertyValue(%22background-image%22))){var%20o;const%20n=r(l,e),i=null===(o=l.parentElement)||void%200===o%3Fvoid%200:o.querySelector(%22.volume-edit%22);null==i||i.dispatchEvent(new%20MouseEvent(%22click%22));await%20a(n)%26%26t.push(l)}if(t.length%3C=0)return%20alert(%22No%20newly%20added%20covers%20with%20empty%20descriptions%20found!%22);function%20r(e,t){var%20n,o;const%20r=null===(n=e.parentElement)||void%200===n%3Fvoid%200:n.querySelector(%22.volume-num%20input%22),a=null==r%3Fvoid%200:r.value,l=null===(o=e.parentElement)||void%200===o%3Fvoid%200:o.querySelector(%22.md-select%20.md-select-inner-wrap%20.placeholder-text%22),i={volume:a||%22No%20Volume%22,language:(null==l%3Fvoid%200:l.innerText)||%22No%20Language%22,nl:%22\n%22};for(const%20e%20in%20i){const%20n=i[e];n%26%26(t=t.replaceAll(`$${e}`,n))}return%20t}function%20a(e){return%20new%20Promise((t=%3E{const%20n='textarea[placeholder=%22Cover%20Description%22]';(function(e){let%20t=document.body.querySelector(e);return%20new%20Promise((n=%3E{if(t)return%20n(t);const%20o=new%20MutationObserver((()=%3E{t=document.body.querySelector(e),t%26%26(n(t),o.disconnect())}));o.observe(document.body,{childList:!0,subtree:!0})}))})(n).then((o=%3E{var%20r,a,l,i;let%20c=!0;const%20u=null===(r=o.parentElement)||void%200===r||null===(a=r.parentElement)||void%200===a||null===(l=a.parentElement)||void%200===l||null===(i=l.parentElement)||void%200===i%3Fvoid%200:i.querySelector(%22button.primary%22);o.value%3Fc=!1:o.value=e,o.dispatchEvent(new%20InputEvent(%22input%22)),null==u||u.dispatchEvent(new%20MouseEvent(%22click%22)),function(e){let%20t=document.body.querySelector(e);return%20new%20Promise((n=%3E{if(!t)return%20n();const%20o=new%20MutationObserver((()=%3E{t=document.body.querySelector(e),t||(n(),o.disconnect())}));o.observe(document.body,{childList:!0,subtree:!0})}))}(n).then((()=%3Et(c)))}))}))}console.log(%22Changed%20descriptions:%22,t)}),{titlePage:!0,editPage:!0,createPage:!0});})();
