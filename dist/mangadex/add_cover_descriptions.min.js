javascript:(function(){function%20e(e,t,n=0){const%20o=e.match(t);if(o%26%26o[n])return%20o[n]}function%20t(e,t=!1){let%20n=document.body.querySelector(e);return%20new%20Promise((o=%3E{if(t%3F!n:n)return%20o(n);const%20a=new%20MutationObserver((()=%3E{n=document.body.querySelector(e),(t%3F!n:n)%26%26(o(n),a.disconnect())}));a.observe(document.body,{childList:!0,subtree:!0})}))}function%20n(e){const%20t=localStorage.getItem(e);if(t)return%20JSON.parse(t)}const%20o=e(window.location.pathname,/\/title\/+([-0-9a-f]{20,})/,1)||e(window.location.pathname,/\/title\/edit\/+([-0-9a-f]{20,})/,1);n(%22oidc.user:https://auth.mangadex.org/realms/mangadex:mangadex-frontend-stable%22)||n(%22oidc.user:https://auth.mangadex.org/realms/mangadex:mangadex-frontend-canary%22),((e,t={})=%3E{(function(e,t){if(!new%20RegExp(e).test(window.location.hostname))return%20alert(%22Bookmarklet%20executed%20on%20a%20wrong%20website!%22);t()})(%22^mangadex.org|canary.mangadex.dev%22,(()=%3E{const%20n=t.createPage%26%26/\/create\//.test(window.location.pathname);return!t.titlePage||o||n%3F!t.editPage||/\/edit\//.test(window.location.pathname)||n%3Fvoid%20e():alert(%22This%20is%20not%20an%20edit%20page!%22):alert(%22This%20is%20not%20a%20title%20page!%22)}))})((async()=%3E{const%20e=prompt(%22Enter%20a%20description:%22,%22Volume%20$volume%20Cover%20from%20BookWalker%22);if(!e)return;const%20n=[],o=Array.from(document.querySelectorAll(%22div.page-sizer%22));for(const%20t%20of%20o)if(/blob:https%3F:\/\/.*mangadex.*\/+[-0-9a-f]{20,}/.test(t.querySelector(%22.page%22).style.getPropertyValue(%22background-image%22))){var%20a;const%20o=r(t,e),i=null===(a=t.parentElement)||void%200===a%3Fvoid%200:a.querySelector(%22.volume-edit%22);null==i||i.dispatchEvent(new%20MouseEvent(%22click%22));await%20l(o)%26%26n.push(t)}if(n.length%3C=0)return%20alert(%22No%20newly%20added%20covers%20with%20empty%20descriptions%20found!%22);function%20r(e,t){var%20n,o;const%20a=null===(n=e.parentElement)||void%200===n%3Fvoid%200:n.querySelector(%22.volume-num%20input%22),r=null==a%3Fvoid%200:a.value,l=null===(o=e.parentElement)||void%200===o%3Fvoid%200:o.querySelector(%22.md-select%20.md-select-inner-wrap%20.placeholder-text%22),i={volume:r||%22No%20Volume%22,language:(null==l%3Fvoid%200:l.innerText)||%22No%20Language%22,nl:%22\n%22};for(const%20e%20in%20i){const%20n=i[e];n%26%26(t=t.replaceAll(`$${e}`,n))}return%20t}function%20l(e){return%20new%20Promise((n=%3E{const%20o='textarea[placeholder=%22Cover%20Description%22]';t(o).then((a=%3E{var%20r,l,i,c;let%20u=!0;const%20d=null==a||null===(r=a.parentElement)||void%200===r||null===(l=r.parentElement)||void%200===l||null===(i=l.parentElement)||void%200===i||null===(c=i.parentElement)||void%200===c%3Fvoid%200:c.querySelector(%22button.primary%22);a.value%3Fu=!1:a.value=e,null==a||a.dispatchEvent(new%20InputEvent(%22input%22)),null==d||d.dispatchEvent(new%20MouseEvent(%22click%22)),t(o,!0).then((()=%3En(u)))}))}))}console.log(%22Added%20descriptions:%22,n)}),{titlePage:!0,editPage:!0,createPage:!0});})();
