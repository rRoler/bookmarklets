javascript:(function(){function%20t(t,e,a=0){const%20n=t.match(e);if(n%26%26n[a])return%20n[a]}function%20e(t){const%20e=localStorage.getItem(t);if(e)return%20JSON.parse(e)}const%20a=t(window.location.pathname,/\/title\/+([-0-9a-f]{20,})/,1)||t(window.location.pathname,/\/title\/edit\/+([-0-9a-f]{20,})/,1),n=/\%3Fdraft=true/.test(window.location.search),o=e(%22oidc.user:https://auth.mangadex.org/realms/mangadex:mangadex-frontend-stable%22)||e(%22oidc.user:https://auth.mangadex.org/realms/mangadex:mangadex-frontend-canary%22);((t,e={})=%3E{(function(t,e){if(!new%20RegExp(t).test(window.location.hostname))return%20alert(%22Bookmarklet%20executed%20on%20a%20wrong%20website!%22);e()})(%22mangadex.org|canary.mangadex.dev%22,(()=%3E{const%20n=e.createPage%26%26/\/create\//.test(window.location.pathname);return!e.titlePage||a||n%3F!e.editPage||/\/edit\//.test(window.location.pathname)||n%3Fvoid%20t():alert(%22This%20is%20not%20an%20edit%20page!%22):alert(%22This%20is%20not%20a%20title%20page!%22)}))})((()=%3E{const%20t={al:%22https://anilist.co/search/manga%3Fsearch=%22,ap:%22https://www.anime-planet.com/manga/all%3Fname=%22,kt:%22https://kitsu.io/manga%3Fsubtype=manga%26text=%22,mu:%22https://www.mangaupdates.com/search.html%3Fsearch=%22,mal:%22https://myanimelist.net/manga.php%3Fq=%22,nu:%22https://www.novelupdates.com/%3Fs=%22,bw:%22https://bookwalker.jp/search/%3Fqcat=2%26word=%22,amz:%22https://www.amazon.co.jp/s%3Frh=n:466280%26k=%22,ebj:%22https://ebookjapan.yahoo.co.jp/search/%3Fkeyword=%22,cdj:%22https://www.cdjapan.co.jp/searchuni%3Fterm.media_format=BOOK%26q=%22};if(/\/create\/title/.test(window.location.pathname)){const%20e=prompt(%22Enter%20a%20title%20to%20search%20for%22);if(!e)return;for(const%20a%20in%20t)window.open(t[a]+e,%22_blank%22,%22noopener,noreferrer%22)}else%20new%20Promise(((t,e)=%3Efetch(`https://api.mangadex.org/manga${n%3F%22/draft/%22:%22/%22}${a}`,{headers:{Authorization:n%3F`${o.token_type}%20${o.access_token}`:%22%22}}).then((e=%3Et(e.json()))).catch((t=%3E{alert(%22Failed%20to%20fetch%20title%20info!%22),e(t)})))).then((e=%3E{const%20a=Object.keys(t).filter((t=%3E!e.data.attributes.links[t]));if(a.length%3C=0)return%20alert(%22All%20links%20are%20already%20added!%22);const%20n=e.data.attributes.originalLanguage;let%20o;try{o=e.data.attributes.altTitles.find((t=%3Et[n]))}catch(t){console.debug(%22No%20alt%20titles%20found%22)}let%20r=o%3Fo[n]:e.data.attributes.title.en||%22%22;r=prompt(%22Enter%20a%20title%20to%20search%20for%22,r),r%26%26a.forEach((e=%3Ewindow.open(t[e]+r,%22_blank%22,%22noopener,noreferrer%22)))}))}),{titlePage:!0,createPage:!0});})();
