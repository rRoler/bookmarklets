javascript:void%20function(){function%20t(t,e,r=0){const%20o=t.match(e);if(o%26%26o[r])return%20o[r]}function%20e(t,e=100){const%20r=[...t],o=[];for(;r.length;)o.push(r.splice(0,e));return%20o}(function(){if(!/mangadex\..*/.test(window.location.hostname))return;const%20r=[],o={},s={manga:[],cover:[]};if(document.querySelectorAll(%22img,%20div%22).forEach((e=%3E{const%20s=e.src||e.style.getPropertyValue(%22background-image%22);if(!/\/covers\/+[-0-9a-f]{20,}\/+[-0-9a-f]{20,}[^/]+(%3F:[%3F%23].*)%3F$/.test(s)||%22executed%22===e.getAttribute(%22cover-data-bookmarklet%22))return;const%20n=t(s,/[-0-9a-f]{20,}/),a=t(s,/([-0-9a-f]{20,}\.[^/.]*)\.[0-9]+\.[^/.%3F%23]*([%3F%23].*)%3F$/,1);n%26%26a%26%26(r.push(e),e.setAttribute(%22cover-data-bookmarklet%22,%22executed%22),o[n]||(o[n]=[]),o[n].includes(a)||o[n].push(a))})),Object.keys(o).length%3C=0)return%20document.querySelector('[cover-data-bookmarklet=%22executed%22]')%3Falert(%22No%20new%20covers%20were%20found%20on%20this%20page%20since%20the%20last%20time%20this%20bookmarklet%20was%20executed!%22):alert(%22No%20covers%20are%20found%20on%20this%20page!%22);for(const%20t%20in%20o)o[t].length%3E1%3Fs.cover.push(t):s.manga.push(t);function%20n(t,e,r=0){return%20new%20Promise(((o,s)=%3E{const%20n=%22cover%22===e,a=t.map((t=%3En%3F`manga[]=${t}`:`ids[]=${t}`)).join(%22%26%22);let%20i=`https://api.mangadex.org/${e}%3F${a}%26includes[]=cover_art%26limit=100%26contentRating[]=safe%26contentRating[]=suggestive%26contentRating[]=erotica%26contentRating[]=pornographic%26offset=${r}`;if(n%26%26(i=`https://api.mangadex.org/${e}%3Forder[volume]=asc%26${a}%26limit=100%26offset=${r}`),r%3E1e3)return%20s(new%20Error(`Offset%20is%20bigger%20than%201000:\n%20${i}`));fetch(i).then((t=%3E{o(t.json())})).catch(s)}))}(function(){const%20t=[];return%20new%20Promise(((r,o)=%3E{(async%20function(){for(const%20r%20in%20s){const%20o=%22cover%22===r,a=e(s[r]);for(const%20e%20in%20a){const%20s=a[e],i=await%20n(s,r);if(o){t.push(...i.data);for(let%20e=i.limit;e%3Ci.total;e+=i.limit){const%20o=await%20n(s,r,e);t.push(...o.data)}}else%20i.data.forEach((e=%3E{const%20r=e.relationships.find((t=%3E%22cover_art%22===t.type));r%26%26(r.relationships=[{type:e.type,id:e.id}],t.push(r))}))}}return%20t})().then(r).catch(o)}))})().then((t=%3E{r.forEach((e=%3E{const%20r=e.src||e.style.getPropertyValue(%22background-image%22);t.forEach((t=%3E{const%20o=t.relationships.find((t=%3E%22manga%22===t.type));if(o%26%26new%20RegExp(`${o.id}/${t.attributes.fileName}`).test(r)){const%20r=new%20Image;r.src=`https://mangadex.org/covers/${o.id}/${t.attributes.fileName}`,r.onload=()=%3E{const%20o=document.createElement(%22span%22),s=document.createElement(%22span%22);if(t.attributes.description){o.setAttribute(%22title%22,t.attributes.description),o.style.setProperty(%22position%22,%22absolute%22);const%20e=document.createElementNS(%22http://www.w3.org/2000/svg%22,%22svg%22);e.classList.add(%22cover-data-bookmarklet-show-description%22),e.setAttribute(%22fill%22,%22none%22),e.setAttribute(%22viewBox%22,%220%200%2024%2024%22),e.setAttribute(%22stroke-width%22,%221.5%22),e.setAttribute(%22stroke%22,%22currentColor%22),e.style.setProperty(%22width%22,%221.5rem%22),e.style.setProperty(%22height%22,%221.5rem%22);const%20r=document.createElementNS(%22http://www.w3.org/2000/svg%22,%22path%22);r.setAttribute(%22stroke-linecap%22,%22round%22),r.setAttribute(%22stroke-linejoin%22,%22round%22),r.setAttribute(%22d%22,%22M11.25%2011.25l.041-.02a.75.75%200%20011.063.852l-.708%202.836a.75.75%200%20001.063.853l.041-.021M21%2012a9%209%200%2011-18%200%209%209%200%200118%200zm-9-3.75h.008v.008H12V8.25z%22),e.appendChild(r),e.addEventListener(%22click%22,(t=%3E{t.stopPropagation(),t.preventDefault(),s.style.setProperty(%22display%22,%22flex%22)})),o.appendChild(e);const%20n=document.createElement(%22span%22);n.innerText=t.attributes.description,n.style.setProperty(%22max-height%22,%22100%25%22),n.style.setProperty(%22margin%22,%221rem%22),n.style.setProperty(%22text-align%22,%22center%22),s.style.setProperty(%22position%22,%22absolute%22),s.style.setProperty(%22width%22,%22100%25%22),s.style.setProperty(%22height%22,%22100%25%22),s.style.setProperty(%22overflow-y%22,%22auto%22),s.style.setProperty(%22display%22,%22none%22),s.style.setProperty(%22align-items%22,%22center%22),s.style.setProperty(%22justify-content%22,%22center%22),s.style.setProperty(%22background-color%22,%22var(--md-accent)%22),s.addEventListener(%22click%22,(t=%3E{t.stopPropagation(),t.preventDefault(),s.style.setProperty(%22display%22,%22none%22)})),s.appendChild(n)}const%20n=document.createElement(%22span%22),a=`${r.width}x${r.height}`;if(n.innerText=a,n.setAttribute(%22title%22,a),n.style.setProperty(%22position%22,%22absolute%22),n.style.setProperty(%22top%22,%220%22),e%20instanceof%20HTMLImageElement){if(n.style.setProperty(%22padding%22,%220.5rem%200.5rem%201rem%22),n.style.setProperty(%22color%22,%22%23fff%22),n.style.setProperty(%22left%22,%220%22),n.style.setProperty(%22width%22,%22100%25%22),n.style.setProperty(%22background%22,%22linear-gradient(0deg,transparent,rgba(0,0,0,0.8))%22),n.style.setProperty(%22border-top-right-radius%22,%220.25rem%22),n.style.setProperty(%22border-top-left-radius%22,%220.25rem%22),!e.parentElement)return;if(e.parentElement.appendChild(n),!t.attributes.description)return;return%20o.style.setProperty(%22top%22,%220%22),o.style.setProperty(%22right%22,%220%22),o.style.setProperty(%22padding%22,%220.5rem%200.5rem%201rem%22),o.style.setProperty(%22color%22,%22%23fff%22),s.style.setProperty(%22border-radius%22,%220.25rem%22),void%20e.parentElement.append(o,s)}n.style.setProperty(%22padding%22,%220%200.4rem%200.1rem%22),n.style.setProperty(%22background-color%22,%22var(--md-accent)%22),n.style.setProperty(%22border-bottom-left-radius%22,%224px%22),n.style.setProperty(%22border-bottom-right-radius%22,%224px%22),e.appendChild(n),t.attributes.description%26%26(o.style.setProperty(%22bottom%22,%220%22),o.style.setProperty(%22left%22,%220%22),o.style.setProperty(%22padding%22,%220.1rem%22),o.style.setProperty(%22background-color%22,%22var(--md-accent)%22),o.style.setProperty(%22border-top-right-radius%22,%224px%22),e.append(o,s))}}}))}))})).catch((t=%3E{console.error(t),alert(%22Failed%20to%20fetch%20cover%20data!%22)}))})();}();
