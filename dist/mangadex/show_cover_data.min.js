javascript:void%20function(){function%20t(t,e,r=0){const%20o=t.match(e);if(o%26%26o[r])return%20o[r]}function%20e(t,e=100){const%20r=[...t],o=[];for(;r.length;)o.push(r.splice(0,e));return%20o}function%20r(t,e,r){return(e=function(t){var%20e=function(t,e){if(%22object%22!=typeof%20t||null===t)return%20t;var%20r=t[Symbol.toPrimitive];if(void%200!==r){var%20o=r.call(t,e||%22default%22);if(%22object%22!=typeof%20o)return%20o;throw%20new%20TypeError(%22%40%40toPrimitive%20must%20return%20a%20primitive%20value.%22)}return(%22string%22===e%3FString:Number)(t)}(t,%22string%22);return%22symbol%22==typeof%20e%3Fe:String(e)}(e))in%20t%3FObject.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class%20o{constructor(t=0){r(this,%22addToDocument%22,(()=%3Edocument.body.appendChild(this.element))),r(this,%22removeFromDocument%22,(()=%3Ethis.element.remove()));const%20e=document.createElement(%22div%22);e.style.setProperty(%22z-index%22,%221000%22),e.style.setProperty(%22position%22,%22fixed%22),e.style.setProperty(%22bottom%22,%220%22),e.style.setProperty(%22left%22,%220%22),e.style.setProperty(%22width%22,%22100%25%22),e.style.setProperty(%22height%22,%2224px%22),e.style.setProperty(%22background-color%22,%22%233c3c3c%22),e.style.setProperty(%22cursor%22,%22pointer%22);const%20o=document.createElement(%22div%22);o.style.setProperty(%22height%22,%22100%25%22),o.style.setProperty(%22background-color%22,%22%23b5e853%22),o.style.setProperty(%22transition%22,%22width%20200ms%22),this.bar=o,this.update(t),e.appendChild(o),e.addEventListener(%22click%22,this.removeFromDocument),this.element=e}update(t){const%20e=Math.ceil(parseInt(this.bar.style.getPropertyValue(%22width%22))),r=Math.ceil(t);r%3E=100%3Fthis.removeFromDocument():e!==r%26%26r%3E=0%26%26this.bar.style.setProperty(%22width%22,`${r}%25`)}}(function(){if(!/mangadex\..*/.test(window.location.hostname))return;const%20r=[],s={},n={},i={manga:[],cover:[]},a=new%20o;if(document.querySelectorAll(%22img,%20div%22).forEach((e=%3E{const%20o=e.src||e.style.getPropertyValue(%22background-image%22);if(!/\/covers\/+[-0-9a-f]{20,}\/+[-0-9a-f]{20,}[^/]+(%3F:[%3F%23].*)%3F$/.test(o))return;const%20i=t(o,/[-0-9a-f]{20,}/),a=t(o,/([-0-9a-f]{20,}\.[^/.]*)\.[0-9]+\.[^/.%3F%23]*([%3F%23].*)%3F$/,1)||t(o,/[-0-9a-f]{20,}\.[^/.]*%3F$/);if(!i||!a)return;const%20l=t=%3E{t[i]||(t[i]=[]),t[i].includes(a)||t[i].push(a)};%22executed%22!==e.getAttribute(%22cover-data-bookmarklet%22)%3F(r.push(e),e.setAttribute(%22cover-data-bookmarklet%22,%22executed%22),l(s)):l(n)})),Object.keys(s).length%3C=0)return%20document.querySelector('[cover-data-bookmarklet=%22executed%22]')%3Falert(%22No%20new%20covers%20were%20found%20on%20this%20page%20since%20the%20last%20time%20this%20bookmarklet%20was%20executed!%22):alert(%22No%20covers%20are%20found%20on%20this%20page!%22);a.addToDocument();for(const%20t%20in%20s){const%20e=n[t]%3Fn[t].length:0;s[t].length+e%3E1%3Fi.cover.push(t):i.manga.push(t)}function%20l(t,e,r=0){return%20new%20Promise(((o,s)=%3E{const%20n=%22cover%22===e,i=t.map((t=%3En%3F`manga[]=${t}`:`ids[]=${t}`)).join(%22%26%22);let%20a=`https://api.mangadex.org/${e}%3F${i}%26includes[]=cover_art%26limit=100%26contentRating[]=safe%26contentRating[]=suggestive%26contentRating[]=erotica%26contentRating[]=pornographic%26offset=${r}`;if(n%26%26(a=`https://api.mangadex.org/${e}%3Forder[volume]=asc%26${i}%26limit=100%26offset=${r}`),r%3E1e3)return%20s(new%20Error(`Offset%20is%20bigger%20than%201000:\n%20${a}`));fetch(a).then((t=%3E{o(t.json())})).catch(s)}))}(function(){const%20t=[];return%20new%20Promise(((r,o)=%3E{(async%20function(){for(const%20r%20in%20i){const%20o=%22cover%22===r,s=e(i[r]);for(const%20e%20in%20s){const%20n=s[e],i=await%20l(n,r);if(o){t.push(...i.data);for(let%20e=i.limit;e%3Ci.total;e+=i.limit){const%20o=await%20l(n,r,e);t.push(...o.data)}}else%20i.data.forEach((e=%3E{const%20r=e.relationships.find((t=%3E%22cover_art%22===t.type));r%26%26(r.relationships=[{type:e.type,id:e.id}],t.push(r))}))}}return%20t})().then(r).catch(o)}))})().then((t=%3E{let%20e=0;r.forEach((o=%3E{const%20s=o.src||o.style.getPropertyValue(%22background-image%22);t.forEach((t=%3E{const%20n=t.relationships.find((t=%3E%22manga%22===t.type));if(n%26%26new%20RegExp(`${n.id}/${t.attributes.fileName}`).test(s)){const%20s=new%20Image;s.src=`https://mangadex.org/covers/${n.id}/${t.attributes.fileName}`,s.onload=()=%3E{const%20n=document.createElement(%22span%22),i=document.createElement(%22span%22);if(t.attributes.description){n.setAttribute(%22title%22,t.attributes.description),n.style.setProperty(%22position%22,%22absolute%22);const%20e=document.createElementNS(%22http://www.w3.org/2000/svg%22,%22svg%22);e.classList.add(%22cover-data-bookmarklet-show-description%22),e.setAttribute(%22fill%22,%22none%22),e.setAttribute(%22viewBox%22,%220%200%2024%2024%22),e.setAttribute(%22stroke-width%22,%221.5%22),e.setAttribute(%22stroke%22,%22currentColor%22),e.style.setProperty(%22width%22,%221.5rem%22),e.style.setProperty(%22height%22,%221.5rem%22);const%20r=document.createElementNS(%22http://www.w3.org/2000/svg%22,%22path%22);r.setAttribute(%22stroke-linecap%22,%22round%22),r.setAttribute(%22stroke-linejoin%22,%22round%22),r.setAttribute(%22d%22,%22M11.25%2011.25l.041-.02a.75.75%200%20011.063.852l-.708%202.836a.75.75%200%20001.063.853l.041-.021M21%2012a9%209%200%2011-18%200%209%209%200%200118%200zm-9-3.75h.008v.008H12V8.25z%22),e.appendChild(r),e.addEventListener(%22click%22,(t=%3E{t.stopPropagation(),t.preventDefault(),i.style.setProperty(%22display%22,%22flex%22)})),n.appendChild(e);const%20o=document.createElement(%22span%22);o.innerText=t.attributes.description,o.style.setProperty(%22max-height%22,%22100%25%22),o.style.setProperty(%22margin%22,%221rem%22),o.style.setProperty(%22text-align%22,%22center%22),i.style.setProperty(%22position%22,%22absolute%22),i.style.setProperty(%22width%22,%22100%25%22),i.style.setProperty(%22height%22,%22100%25%22),i.style.setProperty(%22overflow-y%22,%22auto%22),i.style.setProperty(%22display%22,%22none%22),i.style.setProperty(%22align-items%22,%22center%22),i.style.setProperty(%22justify-content%22,%22center%22),i.style.setProperty(%22background-color%22,%22var(--md-accent)%22),i.addEventListener(%22click%22,(t=%3E{t.stopPropagation(),t.preventDefault(),i.style.setProperty(%22display%22,%22none%22)})),i.appendChild(o)}const%20l=document.createElement(%22span%22),c=`${s.width}x${s.height}`;var%20p,d;(l.innerText=c,l.setAttribute(%22title%22,c),l.style.setProperty(%22position%22,%22absolute%22),l.style.setProperty(%22top%22,%220%22),o%20instanceof%20HTMLImageElement)%3F(l.style.setProperty(%22padding%22,%220.5rem%200.5rem%201rem%22),l.style.setProperty(%22color%22,%22%23fff%22),l.style.setProperty(%22left%22,%220%22),l.style.setProperty(%22width%22,%22100%25%22),l.style.setProperty(%22background%22,%22linear-gradient(0deg,transparent,rgba(0,0,0,0.8))%22),l.style.setProperty(%22border-top-right-radius%22,%220.25rem%22),l.style.setProperty(%22border-top-left-radius%22,%220.25rem%22),null===(p=o.parentElement)||void%200===p||p.appendChild(l),t.attributes.description%26%26(n.style.setProperty(%22top%22,%220%22),n.style.setProperty(%22right%22,%220%22),n.style.setProperty(%22padding%22,%220.5rem%200.5rem%201rem%22),n.style.setProperty(%22color%22,%22%23fff%22),i.style.setProperty(%22border-radius%22,%220.25rem%22),null===(d=o.parentElement)||void%200===d||d.append(n,i))):(l.style.setProperty(%22padding%22,%220%200.4rem%200.1rem%22),l.style.setProperty(%22background-color%22,%22var(--md-accent)%22),l.style.setProperty(%22border-bottom-left-radius%22,%224px%22),l.style.setProperty(%22border-bottom-right-radius%22,%224px%22),o.appendChild(l),t.attributes.description%26%26(n.style.setProperty(%22bottom%22,%220%22),n.style.setProperty(%22left%22,%220%22),n.style.setProperty(%22padding%22,%220.1rem%22),n.style.setProperty(%22background-color%22,%22var(--md-accent)%22),n.style.setProperty(%22border-top-right-radius%22,%224px%22),o.append(n,i)));a.update(++e/r.length*100)}}}))}))})).catch((t=%3E{console.error(t),alert(%22Failed%20to%20fetch%20cover%20data!%22)}))})();}();
